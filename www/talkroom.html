<ons-page id="talk-page">
    <ons-toolbar>
        <div class="left"></div>
        <div class="center">トークリスト</div>
        <div class="right"></div>
    </ons-toolbar>
    <ons-list class="" modifier="">
        <ons-list-item modifier="chevron" class="list-item-container" ng-repeat="room in rooms">
            
            <ons-carousel style="height: 70px; width: 100%" initial-index="0" swipeable  auto-scroll>
            <ons-carousel-item class="list-action-menu" ng-click="startTalk(room.roomID)">
                <div ng-repeat="r in room.peoples" ng-show="r.peopleID != people.peopleID">
                    <div class="list-item-left">
                        <img ng-src="{{r.imageURL}}" class="avator">
                    </div>
                    <div class="list-item-right">
                        <div class="list-item-content">
                            <div class="name">{{r.nicname}}
                                <span class="lucent status-msg" ng-show="room.status == 0 && people.peopleID != room.msgPeopleID">NEW</span>
                            </div>
                            <span class="desc">{{room.msg}}</span>
                        </div>
                    </div>
                </div>
                <div ng-show="room.peoples.length < 2">
                    <div class="list-item-left">
                    </div>
                    <div class="list-item-right">
                    退会されました
                    </div>
                </div>
            </ons-carousel-item>
            <ons-carousel-item class="list-action-item">
                <div class="delete-item" ng-click="removeRoom(room.roomID)">削除</div>
            </ons-carousel-item>
            </ons-carousel>
        </ons-list-item>
    </ons-list>
</ons-page>
<ons-modal var="modal">
    <ons-icon icon="ion-load-c" spin="true"></ons-icon>
    <br>
    <br> ネットワークに接続してください
</ons-modal>

<style> 
.delete-item {
    background-color: red;
    margin-right: 15px;
    height: 100%;
    text-align: center;
    color: white;
    font-size: 25pt;
    line-height: 2.0;
}
.list-item-container {
  line-height: 1;
  font-size: 14px;
  padding: 15px 0px 15px 15px;
}

.status-msg {
    background-color: rgba(255,5,50,0.4);
    font-size: 8pt;
    padding: 2px 5px 2px 5px;
}
.list-item-left {
  width: 60px;
  margin-right: -60px;
  float: left;
}

.list-item-right {
  width: 100%;
  float: right;
}

.list-item-content {
  margin-left: 50px;
  margin-right: 30px;
}

.avator {
  width: 40px;
  height: 40px;
  border-radius: 3px;
  -webkit-border-radius: 3px;
}

.name {
  font-weight: 500;
  line-height: 16px;
  font-size: 15px;
  margin-bottom: 6px;
}

.desc {
  line-height: 16px;
}

.lucent {
  opacity: 0.4;
}
</style>